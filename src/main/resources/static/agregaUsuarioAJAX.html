<!DOCTYPE HTML>
<html>
<head>
    <title>Tutorial Spring boot</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" type="text/css" href="estilo.css" />
    
</head>
<body>

	<script>
	function procesaForma() {
    var matricula;

    // obtiene el valor de la matricula del campo
    nombre = document.forms["formAgregarUsuario"]["nombre"];

    console.log("Nombre "+nombre);
    
    // Valida el rango del valor
    	var xmlhttp = new XMLHttpRequest();
	    xmlhttp.onreadystatechange = function() {
    	    if (this.readyState == 4 && this.status == 200) {
    	    	console.log("Creado exitosamente");
        	}
    	};
    	
    	// TODO: Agregar el contenido de la forma
    	var usuario = '{"nombre":"Juan","apellido":"Java","edad":99, "grupo":1}';
    	
    	var usuarioJSON = JSON.parse(usuario);
    	
    	console.log("Enviando: "+usuario);
    	
    	xmlhttp.open("POST", "v1/usuarios", true);
    	xmlhttp.setRequestHeader("accept","application/json");
    	xmlhttp.setRequestHeader("Content-Type","application/json;charset=utf-8");
    	xmlhttp.send(usuario);
 
}
</script>

    <h1>Agregando usuario</h1>
    <form id="formAgregarUsuario">
	    <label for="nombre">Nombre:</label>
	    <input type = "text" name = "nombre"><br>
	    <label for="apellido">Apellido:</label>
	    <input type = "text" name = "apellido"><br>
	    <label for="grupo">Grupo:</label>
	    <input type = "text" name = "grupo"><br>
	    <input type="button" value="Aceptar" onclick="procesaForma()">
	</form>
 </body>
</html>